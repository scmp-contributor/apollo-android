buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath dep.kotlin.plugin
    }
}

apply plugin: 'com.android.application'
apply plugin: 'com.apollographql.android'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'

android {
    compileSdkVersion androidConfig.compileSdkVersion
    defaultConfig {
        applicationId "com.apollographql.apollo.kotlinsample"
        minSdkVersion androidConfig.minSdkVersion
        targetSdkVersion androidConfig.targetSdkVersion
        versionCode 1
        versionName "1.0"

        def f = project.file("github_token")
        if (!f.exists()) {
            f.setText("your_token")
        }

        buildConfigField("String", "GITHUB_OAUTH_TOKEN", "\"${f.text.trim()}\"")
    }
}

dependencies {
    implementation "com.apollographql.apollo:apollo-android-support"
    implementation "com.apollographql.apollo:apollo-rx2-support"
    implementation "com.apollographql.apollo:apollo-coroutines-support"
    implementation dep.android.appcompat
    implementation dep.android.recyclerView
    implementation dep.apollo.runtime
    implementation dep.kotlin.coroutines.android
    implementation dep.kotlin.coroutines.core
    implementation dep.kotlin.stdLib
    implementation dep.rx.android
    implementation dep.rx.java
}
